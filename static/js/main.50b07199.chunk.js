(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports=a(298)},148:function(e,t,a){},295:function(e,t){e.exports=function(e,t,a){var n,r;return(null==e||e<0||e>5)&&(e=0),1===t?(r=6,n=2.5):null==t?(r=1,n=2.5):e<3?(n=a,r=t):((n=function(e,t){return e+(.1-(5-t)*(.08+.02*(5-t)))}(a,e))<1.3&&(n=1.3),r=Math.round(t*n)),{factor:n,schedule:r,isRepeatAgain:e<4}}},297:function(e,t){e.exports={decks:[{id:"0",name:"Vocaboli spagnolo",cards:[{front:"red",back:"rojo",category:"colours",id:0,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"orange",back:"naranja",category:"colours",id:1,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"yellow",back:"amarillo",category:"colours",id:2,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"green",back:"verde",category:"colours",id:3,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"blue",back:"azul",category:"colours",id:4,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"purple",back:"p\xfarpura/morado",category:"colours",id:5,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"brown",back:"marr\xf3n",category:"colours",id:6,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"black",back:"negro",category:"colours",id:7,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"grey",back:"gris",category:"colours",id:8,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"white",back:"blanco",category:"colours",id:9,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"pink",back:"rosa",category:"colours",id:10,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"habitaciones",back:"rooms",category:"house",id:11,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cuartodeba\xf1o",back:"bathroom",category:"house",id:12,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"dormitorio",back:"bedroom",category:"house",id:13,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"comedor",back:"diningroom",category:"house",id:14,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"pasillo",back:"hall",category:"house",id:15,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cocina",back:"kitchen",category:"house",id:16,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sal\xf3n",back:"livingroom",category:"house",id:17,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"abajo",back:"downstairs",category:"house",id:18,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cochera",back:"garage",category:"house",id:19,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"jard\xedn",back:"garden",category:"house",id:20,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"escaleras",back:"stairs",category:"house",id:21,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"arriba",back:"upstairs",category:"house",id:22,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"aseo",back:"toilet",category:"house - bathroom",id:23,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ba\xf1era",back:"bath",category:"house - bathroom",id:24,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"espejo",back:"mirror",category:"house - bathroom",id:25,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ducha",back:"shower",category:"house - bathroom",id:26,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"jab\xf3n",back:"soap",category:"house - bathroom",id:27,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cama",back:"bed",category:"house - bedroom",id:28,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"silla",back:"chair",category:"house - bedroom",id:29,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"l\xe1mpara",back:"lamp",category:"house - bedroom",id:30,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"repisa",back:"shelf",category:"house - bedroom",id:31,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"estanter\xeda",back:"shelves",category:"house - bedroom",id:32,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"armario",back:"wardrobe",category:"house - bedroom",id:33,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cocina",back:"cooker",category:"house - kitchen",id:34,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"taza",back:"cup",category:"house - kitchen",id:35,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tenedor",back:"fork\xa0",category:"house - kitchen",id:36,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"frigor\xedfico",back:"fridge",category:"house - kitchen",id:37,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"vaso/copa",back:"glass",category:"house - kitchen",id:38,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cuchillo",back:"knife",category:"house - kitchen",id:39,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"microondas",back:"microwave",category:"house - kitchen",id:40,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"plato",back:"plate",category:"house - kitchen",id:41,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cuchara",back:"spoon",category:"house - kitchen",id:42,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"mesa",back:"table",category:"house - kitchen",id:43,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"lavadora",back:"washingmachine",category:"house - kitchen",id:44,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sill\xf3n",back:"armchair",category:"house - livingroom",id:45,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"reloj(pared)",back:"clock",category:"house - livingroom",id:46,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sof\xe1",back:"sofa",category:"house - livingroom",id:47,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"televisor",back:"television",category:"house - livingroom",id:48,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"video",back:"video",category:"house - livingroom",id:49,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"banco",back:"bank",category:"city",id:50,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cafeteria",back:"caf\xe9",category:"city",id:51,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"carnicer\xeda",back:"butcher's",category:"city",id:52,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"farmacia",back:"chemist's",category:"city",id:53,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"lavander\xeda",back:"laundry",category:"city",id:54,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"librer\xeda",back:"bookshop",category:"city",id:55,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"panader\xeda",back:"baker's",category:"city",id:56,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"parada de autobus",back:"bus stop",category:"city",id:57,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"pasteler\xeda",back:"cake shop",category:"city",id:58,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"peluquer\xeda",back:"hairdresser's",category:"city",id:59,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"supermercado",back:"supermarket",category:"city",id:60,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tienda de ropas",back:"clothes shop",category:"city",id:61,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tienda de discos",back:"record shop",category:"city",id:62,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tienda de deportes",back:"sports shop",category:"city",id:63,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"zapater\xeda",back:"shoe shop",category:"city",id:64,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ahoy",back:"today",category:"days",id:65,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ma\xf1ana",back:"tomorrow",category:"days",id:66,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ayer",back:"yesterday",category:"days",id:67,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"anoche",back:"last night",category:"days",id:68,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"anteayer",back:"the day before yesterday",category:"days",id:69,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el d\xeda",back:"the day",category:"days",id:70,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"la semana",back:"the week",category:"days",id:71,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"la primavera",back:"the spring",category:"days - seasons",id:72,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el oto\xf1o",back:"the autumn",category:"days - seasons",id:73,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el verano",back:"the summer",category:"days - seasons",id:74,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el invierno",back:"the winter",category:"days - seasons",id:75,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"lunes",back:"Monday",category:"days - week",id:76,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"martes",back:"Tuesday",category:"days - week",id:77,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"mi\xe9rcoles",back:"Wednesday",category:"days - week",id:78,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"jueves",back:"Thursday",category:"days - week",id:79,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"viernes",back:"Friday",category:"days - week",id:80,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sabado",back:"Saturday",category:"days - week",id:81,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"domingo",back:"Sunday",category:"days - week",id:82,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el fin de semana",back:"the weekend",category:"days - week",id:83,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1}]},{id:"1",name:"Other",cards:[{front:"test front",back:"test back",id:0,repetitions:[],lastSchedule:null,nextRepeat:new Date,factor:2.5,isRepeatAgain:!1}]}]}},298:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),s=a(35),i=a(46),l=a.n(i),u=a(59),d=a(6),p=a(7),h=a(10),f=a(9),m=a(11),k=(a(148),a(14)),g=a(41),b=a.n(g),v=a(66),y=a.n(v),x=a(67),R=a.n(x),E=a(42),S=a.n(E),w=a(60),C=a.n(w),A=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.decks.map(function(e){return e.cardsToReview().length}).reduce(function(e,t){return e+t},0),t=this.props.decks.map(function(e){return e.cardsToLearn().length}).reduce(function(e,t){return e+t},0);return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{id:"flipcardHeader"},r.a.createElement("span",{id:"flipcardTitle"},"Binder"),r.a.createElement(C.a,{id:"logoutButton",onClick:this.props.logout})),r.a.createElement(k.b,{to:"/review",activeClassName:"active"},r.a.createElement(b.a,null)," Smart Review ( ",e," )"),r.a.createElement(k.b,{to:"/learn",activeClassName:"active"},r.a.createElement(S.a,null)," Learn ( ",t," )"),r.a.createElement("br",null),r.a.createElement("p",{className:"title"},"BINDERS"),this.props.decks.map(function(e){return r.a.createElement(k.b,{to:"/deck/"+e.id,activeClassName:"active",key:e.id,className:"deck"},r.a.createElement(y.a,null)," ",e.name)}),r.a.createElement("a",{onClick:this.props.createNewDeck},r.a.createElement(R.a,null)," New Binder"))}}]),t}(r.a.Component),j=a(32),T=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onGrade,a=e.isNew,n=e.onOk;return r.a.createElement("div",{className:"footer"},a?r.a.createElement("button",{onClick:n},"\u2713"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return t(0)}},"X"),r.a.createElement("button",{onClick:function(){return t(2)}},"~"),r.a.createElement("button",{onClick:function(){return t(4)}},"\u2713")))}}]),t}(r.a.Component),O=a(155),N=a(163),D=a(213),I=a(216),F=a(244),P=a(274);function L(e){var t=e.split("\n"),a=[],n=!1,r="",c=!0,o=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(c=(i=l.next()).done);c=!0){var u=i.value;n||u.startsWith("$$")?n||!u.startsWith("$$")?!n||u.startsWith("$$")?n&&u.startsWith("$$")&&(r+="\n"+u,n=!1,a.push(r),r=""):r+="\n"+u:(r=u,n=!0):a.push(u)}}catch(d){o=!0,s=d}finally{try{c||null==l.return||l.return()}finally{if(o)throw s}}return n&&a.push(r),a}var B=function(e){var t={};return function(a){return a in t||(t[a]=e(a)),t[a]}}(function(e){return O().use(N).use(D).use(I).use(F).use(P).processSync(e).contents}),M=function(e){var t=L(e.source);return r.a.createElement("div",null,t.map(function(e,t){return r.a.createElement("div",{className:"markdownRender",key:t,dangerouslySetInnerHTML:{__html:B(e)}})}))},U=a(43),$=a.n(U),W=a(327);function G(e){var t=e.children;return Object(W.a)("(max-width:866px)")?r.a.createElement(r.a.Fragment,null,t):""}function z(e){var t=e.children;return Object(W.a)("(min-width:867px)")?r.a.createElement(r.a.Fragment,null,t):""}var J=function(e){var t=new Date;return(e=new Date(e)).getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},K=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={flipped:!1,card:null,showFooter:!1,deckIndex:-1,done:!0},a.onFlip=function(){a.setState(function(e){e.flipped;return{flipped:!0,showFooter:!0}})},a.nextCard=function(){var e,t,n,r=a.props.decks[a.state.deckIndex];if(r.hasCardsToReview())e=r.nextCardToReview(),t=a.state.deckIndex,n=!1;else{var c=a.nextDeckState(),o=c.deckIndex,s=c.done;t=o,n=s,e=s?null:a.props.decks[o].nextCardToReview()}a.setState(function(a){var r=a.reviewedCardsCount;return{card:e,deckIndex:t,done:n,flipped:!1,showFooter:!1,reviewedCardsCount:r+1}})},a.onGrade=function(e){a.props.decks[a.state.deckIndex].grade(e),a.nextCard()},a.nextDeckState=function(){var e=a.state.deckIndex;for(e++;e<a.props.decks.length&&!a.props.decks[e].hasCardsToReview();)e++;return{deckIndex:e,done:e===a.props.decks.length}};var n=a.props.decks.map(function(e){return e.cards.filter(function(e){return e.repetitions.length>0&&J(e.repetitions[e.repetitions.length-1].date)}).length}).reduce(function(e,t){return e+t},0),r=a.props.decks.map(function(e){return e.cardsToReview().length}).reduce(function(e,t){return e+t},0)+n;return a.state=Object(j.a)({},a.state,a.nextDeckState(),{cardsToReview:r,reviewedCardsCount:n}),a.state.done||(a.state.card=a.props.decks[a.state.deckIndex].nextCardToReview()),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log(this.state.reviewedCardsCount);var e=0===this.state.cardsToReview?1:100*this.state.reviewedCardsCount/this.state.cardsToReview;return this.state.done?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},"You have no cards to review")):r.a.createElement(r.a.Fragment,null,this.state.card&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"learn-header"},r.a.createElement(z,null,this.props.backTo&&r.a.createElement(k.b,{to:this.props.backTo,className:"icon"},r.a.createElement($.a,null))),r.a.createElement("span",{className:"review-deck-title"},this.props.decks[this.state.deckIndex].name),r.a.createElement("div",{className:"review-bar"},r.a.createElement("div",{className:"fill",style:{width:"".concat(e,"%")}}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},r.a.createElement(M,{source:this.state.card.front})),r.a.createElement("div",{className:this.state.flipped?"back":"back hidden",onClick:this.onFlip},this.state.flipped?r.a.createElement(M,{source:this.state.card.back}):"show"))),this.state.showFooter&&r.a.createElement(T,{onGrade:this.onGrade,isNew:this.state.card.isNew}))}}]),t}(r.a.Component),Y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={flipped:!1,card:null,showFooter:!1,deckIndex:-1,done:!0},a.onFlip=function(){a.setState(function(e){e.flipped;return{flipped:!0,showFooter:!0}})},a.nextCard=function(){var e,t,n,r=a.props.decks[a.state.deckIndex];if(r.hasCardsToLearn())e=r.nextCardToLearn(),t=a.state.deckIndex,n=!1;else{var c=a.nextDeckState(),o=c.deckIndex,s=c.done;t=o,n=s,e=s?null:a.props.decks[o].nextCardToLearn()}a.setState({card:e,deckIndex:t,done:n,flipped:!1,showFooter:!1})},a.onOk=function(){a.props.decks[a.state.deckIndex].learn(),a.nextCard()},a.nextDeckState=function(){var e=a.state.deckIndex;for(e++;e<a.props.decks.length&&!a.props.decks[e].hasCardsToLearn();)e++;return{deckIndex:e,done:e===a.props.decks.length}},a.state=Object(j.a)({},a.state,a.nextDeckState()),a.state.done||(a.state.card=a.props.decks[a.state.deckIndex].nextCardToLearn()),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.done?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},"You have no cards to learn")):r.a.createElement(r.a.Fragment,null,this.state.card&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"learn-header"},r.a.createElement(z,null,this.props.backTo&&r.a.createElement(k.b,{to:this.props.backTo,className:"icon"},r.a.createElement($.a,null)))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},r.a.createElement(M,{source:this.state.card.front})),r.a.createElement("div",{className:this.state.flipped?"back":"back hidden",onClick:this.onFlip},this.state.flipped?r.a.createElement(M,{source:this.state.card.back}):"show"))),this.state.showFooter&&r.a.createElement(T,{onOk:this.onOk,isNew:this.state.card.isNew}))}}]),t}(r.a.Component),H=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={flipped:!1,card:null,showFooter:!1},a.onFlip=function(){return a.setState({flipped:!0,showFooter:!0})},a.onGrade=function(e){a.state.card.score+=e,a.state.card.tries++;var t=a.state.cards.reduce(function(e,t){return e.score/e.tries-3/e.tries<=t.score/t.tries-3/t.tries?e:t},a.state.cards[0]);a.setState({card:t,flipped:!1,showFooter:!1})};var n=a.props.decks.map(function(e){return e.cards}).reduce(function(e,t){return[].concat(Object(s.a)(e),Object(s.a)(t))},[]).map(function(e){return Object(j.a)({},e,{score:0,tries:1})});return a.state={cards:n,card:0!==n.length&&n[0]},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return 0===this.state.cards.length?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},"You have no cards to cram")):r.a.createElement(r.a.Fragment,null,this.state.card&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"learn-header"},r.a.createElement(z,null,this.props.backTo&&r.a.createElement(k.b,{to:this.props.backTo,className:"icon"},r.a.createElement($.a,null)))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},r.a.createElement(M,{source:this.state.card.front})),r.a.createElement("div",{className:this.state.flipped?"back":"back hidden",onClick:this.onFlip},this.state.flipped?r.a.createElement(M,{source:this.state.card.back}):"show"))),this.state.showFooter&&r.a.createElement(T,{onGrade:this.onGrade}))}}]),t}(r.a.Component),_=a(328),q=a(329),V=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={text:"",curParagraph:0,focused:!1,curSelection:0},a.setSelection=!0,a.getText=function(){return a.textarea?a.textarea.value:null},a.selectParagraph=function(e){return function(){if(a.state.focused){var t=L(a.state.text);t[a.state.curParagraph]=a.getText();var n=t.join("\n");a.props.onTextUpdate(n),a.setState({curParagraph:e,text:n,curSelection:0}),a.setSelection=!0}else a.setState({curParagraph:e,curSelection:0}),a.setSelection=!0}},a.onKeyUp=function(e){if("Enter"===e.key){var t=L(a.state.text),n=a.getText();t[a.state.curParagraph]=n;var r=!((o=n).trim().startsWith("$$")&&(!o.trim().endsWith("$$")||"$$"===o.trim())),c=t.join("\n");a.props.onTextUpdate(c),a.setState(function(e){var t=e.curParagraph;e.curSelection;return{text:c,curParagraph:r?t+1:t,curSelection:r?0:a.textarea.selectionStart+1}}),a.setSelection=!0}var o},a.onKeyDown=function(e){if("Backspace"===e.key&&0===a.textarea.selectionEnd&&0!==a.state.curParagraph){var t=L(a.state.text);t.splice(a.state.curParagraph);var n=t[a.state.curParagraph-1].length;t[a.state.curParagraph-1]+=a.getText();var r=t.join("\n");a.props.onTextUpdate(r),a.setState(function(e){var t=e.curParagraph;return{text:r,curParagraph:t-1,curSelection:n}}),a.setSelection=!0,e.preventDefault()}else if("Delete"===e.key&&a.textarea.selectionStart===a.textarea.value.length&&a.state.curParagraph!==L(a.state.text).length-1){var c=L(a.state.text),o=c.splice(a.state.curParagraph+1)[0],s=a.getText();c[a.state.curParagraph]=s+o;var i=c.join("\n");a.props.onTextUpdate(i),a.setState(function(e){var t=e.curParagraph;return{text:i,curParagraph:t,curSelection:s.length}}),a.setSelection=!0,e.preventDefault()}else if("ArrowLeft"!==e.key&&"ArrowUp"!==e.key||0!==a.textarea.selectionEnd||0===a.state.curParagraph){if(("ArrowRight"===e.key||"ArrowDown"===e.key)&&a.textarea.selectionStart===a.textarea.value.length&&a.state.curParagraph!==L(a.state.text).length-1){var l=L(a.state.text);l[a.state.curParagraph]=a.getText();var u=l.join("\n");a.props.onTextUpdate(u),a.setState(function(e){var t=e.curParagraph;return{text:u,curParagraph:t+1,curSelection:0}}),a.setSelection=!0,e.preventDefault()}}else{var d=L(a.state.text),p=d[a.state.curParagraph-1].length;d[a.state.curParagraph]=a.getText();var h=d.join("\n");a.props.onTextUpdate(h),a.setState(function(e){var t=e.curParagraph;return{text:h,curParagraph:t-1,curSelection:p}}),a.setSelection=!0,e.preventDefault()}},a.state.text=e.value||"",a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.text,n=t.curParagraph,c=L(a);return r.a.createElement(_.a,{onClickAway:function(){if(e.state.focused){var t=L(e.state.text);t[e.state.curParagraph]=e.getText();var a=t.join("\n");e.props.onTextUpdate(a),e.setState({text:a,focused:!1}),e.textarea=null}},mouseEvent:"onMouseDown"},r.a.createElement("div",{className:"editor",onClick:function(){return e.setState({focused:!0})}},c.map(function(t,a){return a===n&&e.state.focused?r.a.createElement("p",{className:"paragraph active",key:"paragraph_"+a},r.a.createElement(q.a,{defaultValue:t,key:t,ref:function(t){e.textarea=t,null!==t&&(t.focus(),e.setSelection&&(t.selectionStart=e.state.curSelection,t.selectionEnd=e.state.curSelection,e.setSelection=!1))},onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown})):r.a.createElement("div",{key:"paragraph_"+a,onClick:e.selectParagraph(a),className:"paragraph"},r.a.createElement(M,{source:t}))})))}}]),t}(r.a.Component),X=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modalClickAway",onClick:this.props.onClose}),r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"editor-container"},r.a.createElement("div",{className:"front"},r.a.createElement(V,{value:this.props.card.front,onTextUpdate:function(t){e.props.card.front=t}})),r.a.createElement("div",{className:"back"},r.a.createElement(V,{value:this.props.card.back,onTextUpdate:function(t){e.props.card.back=t}})))))}}]),t}(r.a.Component),Q=a(133),Z=a.n(Q),ee=a(136),te=a.n(ee),ae=a(334),ne=a(332),re=a(135),ce=a.n(re),oe=a(134),se=a.n(oe),ie=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={editCard:null,anchorEl:null,wantsToDelete:!1},a.onCloseEditModal=function(){a.setState({editCard:null}),a.props.updateDecks()},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.deck)return"";var t=this.props.deck,a=t.cards.filter(function(e){return 0!==e.repetitions.length}),n=a.length,c=t.cards.length,o=0===c?100:Math.round(100*n/c),s=a.reduce(function(e,t){var a=e.reps,n=e.correct,r=t.repetitions;return{reps:a+r.length,correct:n+r.filter(function(e){return e.quality>=4}).length}},{reps:0,correct:0}),i=s.reps,l=s.correct,u=0===i?100:Math.round(100*l/i),d=t.cardsToReview().length,p=t.cardsToLearn().length;return r.a.createElement(r.a.Fragment,null,this.state.editCard&&r.a.createElement(X,{card:this.state.editCard,onClose:this.onCloseEditModal}),r.a.createElement("h1",{className:"deckName"},r.a.createElement("input",{defaultValue:this.props.deck.name,onBlur:function(a){t.name=a.target.value,e.props.updateDecks()}}),r.a.createElement("div",{onClick:function(t){return e.setState({anchorEl:t.currentTarget})}},r.a.createElement(Z.a,null)),r.a.createElement(ae.a,{id:"deck-menu",anchorEl:this.state.anchorEl,open:!!this.state.anchorEl,onClose:function(){return e.setState({anchorEl:null})}},r.a.createElement(ne.a,{onClick:function(){e.props.redirectTo("/deck/".concat(e.props.deck.id,"/learn")),e.setState({anchorEl:null})},disabled:!p},r.a.createElement(S.a,null),"Learn ",!!p&&"( ".concat(p," )")),r.a.createElement(ne.a,{onClick:function(){e.props.redirectTo("/deck/".concat(e.props.deck.id,"/review")),e.setState({anchorEl:null})},disabled:!d},r.a.createElement(b.a,null),"Smart Review"," ",!!d&&"( ".concat(d," )")),r.a.createElement(ne.a,{onClick:function(){e.props.redirectTo("/deck/".concat(e.props.deck.id,"/cram")),e.setState({anchorEl:null})}},r.a.createElement(se.a,null),"Cram review"),r.a.createElement(ne.a,{onClick:function(){var t=!1;e.setState(function(e){return e.wantsToDelete?(t=!0,{anchorEl:null}):{wantsToDelete:!0}},function(){t&&e.props.deleteDeck()})},style:this.state.wantsToDelete?{color:"var(--primary-color)"}:{}},this.state.wantsToDelete?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),"Confirm"):r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,null),"Delete")))),r.a.createElement("div",{className:"stats"},r.a.createElement("div",{className:"stats-learned"},r.a.createElement("div",{className:"bar"},r.a.createElement("div",{className:"fill",style:{width:"".concat(o,"%")}})),r.a.createElement("span",{className:"text"},n,"/",c," cards learned")),r.a.createElement("div",{className:"stats-recall"},r.a.createElement("div",{className:"bar"},r.a.createElement("div",{className:"fill",style:{width:"".concat(u,"%")}})),r.a.createElement("span",{className:"text"},u,"% right reviews"))),r.a.createElement("div",{className:"cardsList"},t.cards.map(function(t){return r.a.createElement("div",{key:t.id,onClick:function(){return e.setState({editCard:t})}},t.front&&r.a.createElement(M,{source:t.front.split("\n")[0].replace(new RegExp("^#+","g"),"").trim()}))}),r.a.createElement("div",{key:"new-card",id:"new-card",onClick:function(){return e.setState({editCard:t.addCard({front:"",back:""})})}},"New Card")))}}]),t}(r.a.Component),le=a(36),ue=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement(le.b,{path:"/review",component:function(){return r.a.createElement(K,{decks:e.props.decks})},exact:!0}),r.a.createElement(le.b,{path:"/learn",component:function(){return r.a.createElement(Y,{decks:e.props.decks})},exact:!0}),r.a.createElement(le.b,{path:"/deck/:deckId",component:function(t){var a=t.match;return r.a.createElement(ie,{deck:e.props.decks[a.params.deckId],updateDecks:e.props.updateDecks,deleteDeck:e.props.deleteDeck(a.params.deckId),redirectTo:e.props.redirectTo})},exact:!0}),r.a.createElement(le.b,{path:"/deck/:deckId/learn",component:function(t){var a=t.match;return e.props.decks[a.params.deckId]?r.a.createElement(Y,{decks:[e.props.decks[a.params.deckId]],backTo:"/deck/".concat(a.params.deckId)}):""},exact:!0}),r.a.createElement(le.b,{path:"/deck/:deckId/review",component:function(t){var a=t.match;return e.props.decks[a.params.deckId]?r.a.createElement(K,{decks:[e.props.decks[a.params.deckId]],backTo:"/deck/".concat(a.params.deckId)}):""},exact:!0}),r.a.createElement(le.b,{path:"/deck/:deckId/cram",component:function(t){var a=t.match;return e.props.decks[a.params.deckId]?r.a.createElement(H,{decks:[e.props.decks[a.params.deckId]],backTo:"/deck/".concat(a.params.deckId)}):""},exact:!0}))}}]),t}(r.a.Component),de=a(335),pe=a(137),he=a.n(pe),fe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.decks.map(function(e){return e.cardsToReview().length}).reduce(function(e,t){return e+t},0),a=this.props.decks.map(function(e){return e.cardsToLearn().length}).reduce(function(e,t){return e+t},0);return r.a.createElement(de.a,{open:this.props.open,onClose:this.props.onClose},r.a.createElement("div",{className:"drawer sidebar"},r.a.createElement("div",{id:"flipcardHeader"},r.a.createElement(he.a,{id:"logoutButton",onClick:this.props.onClose})),r.a.createElement(k.b,{to:"/review",activeClassName:"active",onClick:function(){return e.props.onClose()}},r.a.createElement(b.a,null)," Smart Review ( ",t," )"),r.a.createElement(k.b,{to:"/learn",activeClassName:"active",onClick:function(){return e.props.onClose()}},r.a.createElement(S.a,null)," Learn ( ",a," )"),r.a.createElement("br",null),r.a.createElement("p",{className:"title"},"BINDERS"),this.props.decks.map(function(t){return r.a.createElement(k.b,{to:"/deck/"+t.id,activeClassName:"active",key:t.id,className:"deck",onClick:function(){return e.props.onClose()}},r.a.createElement(y.a,null)," ",t.name)}),r.a.createElement("a",{onClick:function(){e.props.createNewDeck(),e.props.onClose()}},r.a.createElement(R.a,null)," New Binder")))}}]),t}(r.a.Component),me=a(138),ke=a.n(me),ge=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"flipcardHeader"},r.a.createElement(ke.a,{id:"hamburger",onClick:this.props.openSidebar}),r.a.createElement("span",{id:"flipcardTitle"},"Binder"),r.a.createElement(C.a,{id:"logoutButton",onClick:this.props.logout}))}}]),t}(r.a.Component),be=a(295),ve=a(296),ye=function(e,t){return Object(s.a)(new Set(t)).map(function(t){return e[t]})},xe=function(){function e(t,a){Object(d.a)(this,e);var n=new Date;this.cards=t.cards,this.id=t.id,this.name=t.name,this.updateDecks=a,this.indexesToReview=this.cards.filter(function(e){var t=e.nextRepeat,a=e.isRepeatAgain;return null!==t&&new Date(t)<=n||a}).map(function(e){return e.id}),this.indexesToLearn=this.cards.filter(function(e){return null===e.nextRepeat}).map(function(e){return e.id}),this.currentIndex=null}return Object(p.a)(e,[{key:"saveDB",value:function(){this.updateDecks()}},{key:"toJSON",value:function(){return{id:this.id,name:this.name,cards:this.cards}}},{key:"grade",value:function(e){var t=this.getCurrentCard();this.indexesToReview.shift();var a=be(e,t.lastSchedule,t.factor),n=a.isRepeatAgain,r=a.factor,c=a.schedule,o=1+.2*(Math.random()-.5);c=Math.round(c*o),this.cards=this.cards.map(function(a){return a.id===t.id?Object(j.a)({},a,{repetitions:[].concat(Object(s.a)(a.repetitions),[{quality:e,date:new Date}]),factor:r,lastSchedule:a.isRepeatAgain?a.lastSchedule:c,isRepeatAgain:n,nextRepeat:a.isRepeatAgain?a.nextRepeat:ve(a.nextRepeat||new Date).add(c,"days").toDate()}):a}),this.saveDB(),n&&this.indexesToReview.push(this.currentIndex)}},{key:"learn",value:function(){this.indexesToReview.unshift(this.indexesToLearn.shift()),this.grade(4)}},{key:"getCurrentCard",value:function(){return null!==this.currentIndex?this.cards[this.currentIndex]:null}},{key:"cardsToReview",value:function(){return ye(this.cards,this.indexesToReview)}},{key:"cardsToLearn",value:function(){return ye(this.cards,this.indexesToLearn)}},{key:"hasCardsToReview",value:function(){return this.indexesToReview.length>0}},{key:"hasCardsToLearn",value:function(){return this.indexesToLearn.length>0}},{key:"nextCardToReview",value:function(){return this.currentIndex=this.hasCardsToReview()?this.indexesToReview[0]:null,Object(j.a)({},this.getCurrentCard(),{isNew:!1})}},{key:"nextCardToLearn",value:function(){return this.currentIndex=this.hasCardsToLearn()?this.indexesToLearn[0]:null,Object(j.a)({},this.getCurrentCard(),{isNew:!0})}},{key:"addCard",value:function(){var e={id:this.cards.length,repetitions:[],lastSchedule:null,nextRepeat:null,factor:2.5,isRepeatAgain:!1};return this.cards.push(e),this.indexesToLearn.push(this.cards.length-1),e}}]),e}(),Re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.login=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://flipcards-server.herokuapp.com/login",{body:JSON.stringify({email:a.state.email,password:a.state.password}),headers:{"content-type":"application/json"},method:"POST"}).then(function(e){return e.text()});case 2:t=e.sent,a.props.setBearer(t);case 4:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"loginForm"},"Login",r.a.createElement("input",{value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{onClick:this.login},"Log In"))}}]),t}(r.a.Component),Ee=a(139),Se=a(331),we=Object(Ee.a)({props:{MuiButtonBase:{disableRipple:!0}},transitions:{create:function(){return"none"}}}),Ce=a(297),Ae=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={decks:[],bearer:null,open:!1},a.setBearer=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r,c,o=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"/",a.setState({bearer:t,redirectTo:n}),localStorage.setItem("bearer",t),e.next=5,fetch("https://flipcards-server.herokuapp.com/user",{headers:{Authorization:"Bearer "+t}}).then(function(e){return e.json()});case 5:if(r=e.sent,c=r.decks){e.next=11;break}return e.next=10,fetch("https://flipcards-server.herokuapp.com/user",{body:JSON.stringify({decks:Ce.decks}),headers:{"content-type":"application/json",Authorization:"Bearer "+t},method:"POST"});case 10:c=Ce.decks;case 11:a.setState({decks:c.map(function(e){return new xe(e,a.updateDecks)})});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.logout=function(){localStorage.removeItem("bearer"),a.setState({bearer:null,redirectTo:"/login",decks:[]})},a.updateDecks=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fetch("https://flipcards-server.herokuapp.com/user",{body:JSON.stringify({decks:a.state.decks}),headers:{"content-type":"application/json",Authorization:"Bearer "+a.state.bearer},method:"POST"}),e&&a.forceUpdate()},a.deleteDeck=function(e){return function(){a.setState(function(t){return{decks:t.decks.filter(function(t){return t.id.toString()!==e.toString()}),redirectTo:"/"}},function(){return a.updateDecks(!1)})}},a.createNewDeck=function(){var e=a.state.decks.length.toString();a.setState(function(t){var n=t.decks;return{decks:[].concat(Object(s.a)(n),[new xe({id:e,name:"Unnamed deck",cards:[]},a.props.updateDecks)]),redirectTo:"/deck/"+e}},function(){return a.updateDecks(!1)})},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("bearer");e&&this.setBearer(e,window.location.pathname)}},{key:"render",value:function(){var e=this;if(this.state.redirectTo){var t=this.state.redirectTo;return this.setState({redirectTo:""}),r.a.createElement(k.a,null,r.a.createElement(le.a,{push:!0,to:t}))}var a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null,r.a.createElement(A,{decks:e.state.decks,updateDecks:e.updateDecks,logout:e.logout,createNewDeck:e.createNewDeck})),r.a.createElement(G,null,r.a.createElement(ge,{logout:e.logout,openSidebar:function(){return e.setState({open:!0})},redirectTo:function(t){return e.setState({redirectTo:t})}}),r.a.createElement(fe,{decks:e.state.decks,updateDecks:e.updateDecks,createNewDeck:e.createNewDeck,open:e.state.open,onClose:function(){return e.setState({open:!1})}})),r.a.createElement(ue,{decks:e.state.decks,updateDecks:e.updateDecks,isMobile:!1,deleteDeck:e.deleteDeck,redirectTo:function(t){return e.setState({redirectTo:t})}}))};return r.a.createElement(Se.a,{theme:we},r.a.createElement(k.a,null,r.a.createElement("div",{className:"App"},!this.state.bearer&&r.a.createElement(le.a,{to:"/login"}),r.a.createElement(le.b,{path:"/",exact:!0,component:a}),r.a.createElement(le.b,{path:["/review","/learn","/settings","/deck"],component:a}),r.a.createElement(le.b,{path:"/login",component:function(){return r.a.createElement(Re,{setBearer:e.setBearer})}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[142,1,2]]]);
//# sourceMappingURL=main.50b07199.chunk.js.map