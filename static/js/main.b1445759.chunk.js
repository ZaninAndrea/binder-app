(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(277)},128:function(e,t,a){},274:function(e,t){e.exports=function(e,t,a){var n,r;return(null==e||e<0||e>5)&&(e=0),1===t?(r=6,n=2.5):null==t?(r=1,n=2.5):e<3?(n=a,r=t):((n=function(e,t){return e+(.1-(5-t)*(.08+.02*(5-t)))}(a,e))<1.3&&(n=1.3),r=Math.round(t*n)),{factor:n,schedule:r,isRepeatAgain:e<4}}},276:function(e,t){e.exports={decks:[{id:"0",name:"Vocaboli spagnolo",cards:[{front:"red",back:"rojo",category:"colours",id:0,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"orange",back:"naranja",category:"colours",id:1,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"yellow",back:"amarillo",category:"colours",id:2,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"green",back:"verde",category:"colours",id:3,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"blue",back:"azul",category:"colours",id:4,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"purple",back:"p\xfarpura/morado",category:"colours",id:5,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"brown",back:"marr\xf3n",category:"colours",id:6,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"black",back:"negro",category:"colours",id:7,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"grey",back:"gris",category:"colours",id:8,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"white",back:"blanco",category:"colours",id:9,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"pink",back:"rosa",category:"colours",id:10,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"habitaciones",back:"rooms",category:"house",id:11,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cuartodeba\xf1o",back:"bathroom",category:"house",id:12,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"dormitorio",back:"bedroom",category:"house",id:13,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"comedor",back:"diningroom",category:"house",id:14,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"pasillo",back:"hall",category:"house",id:15,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cocina",back:"kitchen",category:"house",id:16,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sal\xf3n",back:"livingroom",category:"house",id:17,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"abajo",back:"downstairs",category:"house",id:18,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cochera",back:"garage",category:"house",id:19,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"jard\xedn",back:"garden",category:"house",id:20,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"escaleras",back:"stairs",category:"house",id:21,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"arriba",back:"upstairs",category:"house",id:22,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"aseo",back:"toilet",category:"house - bathroom",id:23,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ba\xf1era",back:"bath",category:"house - bathroom",id:24,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"espejo",back:"mirror",category:"house - bathroom",id:25,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ducha",back:"shower",category:"house - bathroom",id:26,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"jab\xf3n",back:"soap",category:"house - bathroom",id:27,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cama",back:"bed",category:"house - bedroom",id:28,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"silla",back:"chair",category:"house - bedroom",id:29,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"l\xe1mpara",back:"lamp",category:"house - bedroom",id:30,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"repisa",back:"shelf",category:"house - bedroom",id:31,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"estanter\xeda",back:"shelves",category:"house - bedroom",id:32,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"armario",back:"wardrobe",category:"house - bedroom",id:33,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cocina",back:"cooker",category:"house - kitchen",id:34,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"taza",back:"cup",category:"house - kitchen",id:35,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tenedor",back:"fork\xa0",category:"house - kitchen",id:36,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"frigor\xedfico",back:"fridge",category:"house - kitchen",id:37,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"vaso/copa",back:"glass",category:"house - kitchen",id:38,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cuchillo",back:"knife",category:"house - kitchen",id:39,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"microondas",back:"microwave",category:"house - kitchen",id:40,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"plato",back:"plate",category:"house - kitchen",id:41,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cuchara",back:"spoon",category:"house - kitchen",id:42,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"mesa",back:"table",category:"house - kitchen",id:43,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"lavadora",back:"washingmachine",category:"house - kitchen",id:44,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sill\xf3n",back:"armchair",category:"house - livingroom",id:45,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"reloj(pared)",back:"clock",category:"house - livingroom",id:46,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sof\xe1",back:"sofa",category:"house - livingroom",id:47,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"televisor",back:"television",category:"house - livingroom",id:48,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"video",back:"video",category:"house - livingroom",id:49,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"banco",back:"bank",category:"city",id:50,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"cafeteria",back:"caf\xe9",category:"city",id:51,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"carnicer\xeda",back:"butcher's",category:"city",id:52,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"farmacia",back:"chemist's",category:"city",id:53,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"lavander\xeda",back:"laundry",category:"city",id:54,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"librer\xeda",back:"bookshop",category:"city",id:55,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"panader\xeda",back:"baker's",category:"city",id:56,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"parada de autobus",back:"bus stop",category:"city",id:57,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"pasteler\xeda",back:"cake shop",category:"city",id:58,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"peluquer\xeda",back:"hairdresser's",category:"city",id:59,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"supermercado",back:"supermarket",category:"city",id:60,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tienda de ropas",back:"clothes shop",category:"city",id:61,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tienda de discos",back:"record shop",category:"city",id:62,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"tienda de deportes",back:"sports shop",category:"city",id:63,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"zapater\xeda",back:"shoe shop",category:"city",id:64,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ahoy",back:"today",category:"days",id:65,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ma\xf1ana",back:"tomorrow",category:"days",id:66,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"ayer",back:"yesterday",category:"days",id:67,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"anoche",back:"last night",category:"days",id:68,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"anteayer",back:"the day before yesterday",category:"days",id:69,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el d\xeda",back:"the day",category:"days",id:70,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"la semana",back:"the week",category:"days",id:71,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"la primavera",back:"the spring",category:"days - seasons",id:72,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el oto\xf1o",back:"the autumn",category:"days - seasons",id:73,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el verano",back:"the summer",category:"days - seasons",id:74,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el invierno",back:"the winter",category:"days - seasons",id:75,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"lunes",back:"Monday",category:"days - week",id:76,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"martes",back:"Tuesday",category:"days - week",id:77,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"mi\xe9rcoles",back:"Wednesday",category:"days - week",id:78,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"jueves",back:"Thursday",category:"days - week",id:79,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"viernes",back:"Friday",category:"days - week",id:80,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"sabado",back:"Saturday",category:"days - week",id:81,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"domingo",back:"Sunday",category:"days - week",id:82,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1},{front:"el fin de semana",back:"the weekend",category:"days - week",id:83,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1}]},{id:"1",name:"Other",cards:[{front:"test front",back:"test back",id:0,repetitions:[],lastSchedule:1,nextRepeat:new Date,factor:2.5,isRepeatAgain:!1}]}]}},277:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=a(40),s=a(36),l=a.n(s),u=a(48),d=a(3),p=a(4),h=a(6),f=a(5),k=a(7),m=(a(128),a(18)),g=a(52),b=a.n(g),y=a(54),v=a.n(y),R=a(55),x=a.n(R),S=a(53),w=a.n(S),E=a(49),C=a.n(E),A=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.decks.map(function(e){return e.cardsToReview().length}).reduce(function(e,t){return e+t},0),t=this.props.decks.map(function(e){return e.cardsToLearn().length}).reduce(function(e,t){return e+t},0);return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{id:"flipcardHeader"},r.a.createElement("span",{id:"flipcardTitle"},"Flipcards"),r.a.createElement(C.a,{id:"logoutButton",onClick:this.props.logout})),r.a.createElement(m.b,{to:"/review",activeClassName:"active"},r.a.createElement(b.a,null)," Review ( ",e," )"),r.a.createElement(m.b,{to:"/learn",activeClassName:"active"},r.a.createElement(w.a,null)," Learn ( ",t," )"),r.a.createElement("br",null),r.a.createElement("p",{className:"title"},"DECKS"),this.props.decks.map(function(e){return r.a.createElement(m.b,{to:"/deck/"+e.id,activeClassName:"active",key:e.id,className:"deck"},r.a.createElement(v.a,null)," ",e.name)}),r.a.createElement("a",{onClick:this.props.createNewDeck},r.a.createElement(x.a,null)," New Deck"))}}]),t}(r.a.Component),j=a(30),O=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onGrade,a=e.isNew,n=e.onOk;return r.a.createElement("div",{className:"footer"},a?r.a.createElement("button",{onClick:n},"\u2713"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return t(0)}},"X"),r.a.createElement("button",{onClick:function(){return t(2)}},"~"),r.a.createElement("button",{onClick:function(){return t(4)}},"\u2713")))}}]),t}(r.a.Component),N=a(134),T=a(142),D=a(192),I=a(195),L=a(223),F=a(253),P=function(e){var t=e.source;return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:N().use(T).use(D).use(I).use(L).use(F).processSync(t).contents}})},B=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={flipped:!1,card:null,showFooter:!1,deckIndex:-1,done:!0},a.onFlip=function(){a.setState(function(e){e.flipped;return{flipped:!0,showFooter:!0}})},a.nextCard=function(){var e,t,n,r=a.props.decks[a.state.deckIndex];if(r.hasCardsToReview())e=r.nextCardToReview(),t=a.state.deckIndex,n=!1;else{var o=a.nextDeckState(),c=o.deckIndex,i=o.done;t=c,n=i,e=i?null:a.props.decks[c].nextCardToReview()}a.setState({card:e,deckIndex:t,done:n,flipped:!1,showFooter:!1})},a.onGrade=function(e){a.props.decks[a.state.deckIndex].grade(e),a.nextCard()},a.nextDeckState=function(){var e=a.state.deckIndex;for(e++;e<a.props.decks.length&&!a.props.decks[e].hasCardsToReview();)e++;return{deckIndex:e,done:e===a.props.decks.length}},a.state=Object(j.a)({},a.state,a.nextDeckState()),a.state.done||(a.state.card=a.props.decks[a.state.deckIndex].nextCardToReview()),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.done?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},"You have no cards to review")):r.a.createElement(r.a.Fragment,null,this.state.card&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},r.a.createElement(P,{source:this.state.card.front})),r.a.createElement("div",{className:this.state.flipped?"back":"back hidden",onClick:this.onFlip},this.state.flipped?r.a.createElement(P,{source:this.state.card.back}):"show"))),this.state.showFooter&&r.a.createElement(O,{onGrade:this.onGrade,isNew:this.state.card.isNew}))}}]),t}(r.a.Component),W=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={flipped:!1,card:null,showFooter:!1,deckIndex:-1,done:!0},a.onFlip=function(){a.setState(function(e){e.flipped;return{flipped:!0,showFooter:!0}})},a.nextCard=function(){var e,t,n,r=a.props.decks[a.state.deckIndex];if(r.hasCardsToLearn())e=r.nextCardToLearn(),t=a.state.deckIndex,n=!1;else{var o=a.nextDeckState(),c=o.deckIndex,i=o.done;t=c,n=i,e=i?null:a.props.decks[c].nextCardToLearn()}a.setState({card:e,deckIndex:t,done:n,flipped:!1,showFooter:!1})},a.onOk=function(){a.props.decks[a.state.deckIndex].learn(),a.nextCard()},a.nextDeckState=function(){var e=a.state.deckIndex;for(e++;e<a.props.decks.length&&!a.props.decks[e].hasCardsToLearn();)e++;return{deckIndex:e,done:e===a.props.decks.length}},a.state=Object(j.a)({},a.state,a.nextDeckState()),a.state.done||(a.state.card=a.props.decks[a.state.deckIndex].nextCardToLearn()),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.done?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},"You have no cards to learn")):r.a.createElement(r.a.Fragment,null,this.state.card&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"front"},r.a.createElement(P,{source:this.state.card.front})),r.a.createElement("div",{className:this.state.flipped?"back":"back hidden",onClick:this.onFlip},this.state.flipped?r.a.createElement(P,{source:this.state.card.back}):"show"))),this.state.showFooter&&r.a.createElement(O,{onOk:this.onOk,isNew:this.state.card.isNew}))}}]),t}(r.a.Component),M=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={on:!0},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.setState(function(e){return{on:!e.on}})},400)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("span",{style:{position:"relative",width:"0",height:"0"}},r.a.createElement("span",{style:{position:"absolute",left:"-0.5ch",fontWeight:"light"}},this.state.on?"|":""))}}]),t}(r.a.Component),U=a(298);function $(e){var t=e.text,a=e.pos,n=e.onCharClick;return"\n"===t?r.a.createElement("br",null):r.a.createElement("span",{onClick:n(a)},t)}var K=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={text:"",curPos:0,focused:!1},a.onKeyPress=function(e){if(a.state.focused){var t="Enter"===(e=e||window.event).key?"\n":e.key;a.setState(function(e){var n=e.text,r=e.curPos,o=n.slice(0,r)+t+n.slice(r);return a.props.onTextUpdate(o),{text:o,curPos:r+1}}),e.preventDefault()}},a.onKeyDown=function(e){a.state.focused&&("Backspace"===(e=e||window.event).key&&a.setState(function(e){var t=e.text,n=e.curPos,r=0!==n?t.slice(0,n-1)+t.slice(n):t;return a.props.onTextUpdate(r),{text:r,curPos:0!==n?n-1:n}}),"Delete"===e.key&&a.setState(function(e){var t=e.text,n=e.curPos,r=n!==t.length?t.slice(0,n)+t.slice(n+1):t;return a.props.onTextUpdate(r),{text:r}}),"ArrowLeft"===e.key&&a.setState(function(e){var t=e.curPos;return{curPos:0!==t?t-1:t}}),"ArrowRight"===e.key&&a.setState(function(e){var t=e.text,a=e.curPos;return{curPos:a!==t.length?a+1:a}}))},a.componentWillUnmount=function(){document.removeEventListener("keypress",a.onKeyPress),document.removeEventListener("keydown",a.onKeyDown)},a.onCharClick=function(e){return function(t){var n=t.target.getBoundingClientRect(),r=n.left,o=n.right;a.setState({curPos:t.clientX-r<o-t.clientX?e:e+1}),t.preventDefault()}},document.addEventListener("keypress",a.onKeyPress),document.addEventListener("keydown",a.onKeyDown),a.state.text=e.value||"",a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.text,n=t.curPos,o=function(e,t){var a=e.split("\n"),n=[],r=!1,o="",c=0,i=0,s=!1,l=!1,u=!0,d=!1,p=void 0;try{for(var h,f=a[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var k=h.value;c+=k.length+1,!s&&c>t&&(l=!0,s=!0),r||k.startsWith("$$")?r||!k.startsWith("$$")?!r||k.startsWith("$$")?r&&k.startsWith("$$")&&(o+="\n"+k,r=!1,n.push({active:l,text:o,startCurPos:i}),o="",l=!1,i=c):o+="\n"+k:(o=k,r=!0):(n.push({active:l,text:k,startCurPos:i}),l=!1,i=c)}}catch(m){d=!0,p=m}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}return r&&n.push({active:l,text:o,startCurPos:i}),n}(a,n);return r.a.createElement(U.a,{onClickAway:function(){return e.setState({focused:!1})},mouseEvent:"onMouseDown"},r.a.createElement("div",{className:"editor",onClick:function(){return e.setState({focused:!0})}},o.map(function(t,a){var o=t.text,c=t.active,i=t.startCurPos;return c&&e.state.focused?r.a.createElement("p",{className:"active",key:"paragraph_"+a},o.slice(0,n-i).split("").map(function(t,a){return r.a.createElement($,{onCharClick:e.onCharClick,pos:i+1,key:i+1,text:t})}),e.state.focused&&r.a.createElement(M,{key:"cursor"+n}),o.slice(n-i).split("").map(function(t,a){return r.a.createElement($,{onCharClick:e.onCharClick,pos:n+a,key:n+a,text:t})})):r.a.createElement("div",{key:"paragraph_"+a,onClick:function(){e.setState({curPos:i})},className:"paragraph"},r.a.createElement(P,{source:o}))})))}}]),t}(r.a.Component),z=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modalClickAway",onClick:this.props.onClose}),r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"editor-container"},r.a.createElement("div",{className:"front"},r.a.createElement(K,{value:this.props.card.front,onTextUpdate:function(t){e.props.card.front=t}})),r.a.createElement("div",{className:"back"},r.a.createElement(K,{value:this.props.card.back,onTextUpdate:function(t){e.props.card.back=t}})))))}}]),t}(r.a.Component),J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={editCard:null},a.onCloseEditModal=function(){a.setState({editCard:null}),a.props.updateDecks()},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.deck)return"";var t=this.props.deck;return r.a.createElement(r.a.Fragment,null,this.state.editCard&&r.a.createElement(z,{card:this.state.editCard,onClose:this.onCloseEditModal}),r.a.createElement("h1",{className:"deckName"},t.name),r.a.createElement("div",{className:"cardsList"},t.cards.map(function(t){return r.a.createElement("div",{key:t.id,onClick:function(){return e.setState({editCard:t})}},r.a.createElement(P,{source:t.front}))}),r.a.createElement("div",{key:"new-card",id:"new-card",onClick:function(){return e.setState({editCard:t.addCard({front:"",back:""})})}},"New Card")))}}]),t}(r.a.Component),G=a(29),H=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement(G.b,{path:"/review",component:function(){return r.a.createElement(B,{decks:e.props.decks})},exact:!0}),r.a.createElement(G.b,{path:"/learn",component:function(){return r.a.createElement(W,{decks:e.props.decks})},exact:!0}),r.a.createElement(G.b,{path:"/deck/:deckId",component:function(t){var a=t.match;return r.a.createElement(J,{deck:e.props.decks[a.params.deckId],updateDecks:e.props.updateDecks})}}))}}]),t}(r.a.Component),_=a(300),X=a(118),q=a.n(X),Y=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.decks.map(function(e){return e.cardsToReview().length}).reduce(function(e,t){return e+t},0),t=this.props.decks.map(function(e){return e.cardsToLearn().length}).reduce(function(e,t){return e+t},0);return r.a.createElement(_.a,{open:this.props.open,onClose:this.props.onClose},r.a.createElement("div",{className:"drawer sidebar"},r.a.createElement("div",{id:"flipcardHeader"},r.a.createElement(q.a,{id:"logoutButton",onClick:this.props.onClose})),r.a.createElement(m.b,{to:"/review",activeClassName:"active"},r.a.createElement(b.a,null)," Review ( ",e," )"),r.a.createElement(m.b,{to:"/learn",activeClassName:"active"},r.a.createElement(w.a,null)," Learn ( ",t," )"),r.a.createElement("br",null),r.a.createElement("p",{className:"title"},"DECKS"),this.props.decks.map(function(e){return r.a.createElement(m.b,{to:"/deck/"+e.id,activeClassName:"active",key:e.id,className:"deck"},r.a.createElement(v.a,null)," ",e.name)}),r.a.createElement("a",{onClick:this.props.createNewDeck},r.a.createElement(x.a,null)," New Deck")))}}]),t}(r.a.Component),V=a(119),Q=a.n(V),Z=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"flipcardHeader"},r.a.createElement(Q.a,{id:"hamburger",onClick:this.props.openSidebar}),r.a.createElement("span",{id:"flipcardTitle"},"Flipcards"),r.a.createElement(C.a,{id:"logoutButton",onClick:this.props.logout}))}}]),t}(r.a.Component),ee=a(274),te=a(275),ae=function(e,t){return Object(i.a)(new Set(t)).map(function(t){return e[t]})},ne=function(){function e(t,a){Object(d.a)(this,e);var n=new Date;this.cards=t.cards,this.id=t.id,this.name=t.name,this.updateDecks=a,this.indexesToReview=this.cards.filter(function(e){var t=e.nextRepeat,a=e.isRepeatAgain;return null!==t&&new Date(t)<=n||a}).map(function(e){return e.id}),this.indexesToLearn=this.cards.filter(function(e){return null===e.nextRepeat}).map(function(e){return e.id}),this.currentIndex=null}return Object(p.a)(e,[{key:"saveDB",value:function(){this.updateDecks()}},{key:"toJSON",value:function(){return{id:this.id,name:this.name,cards:this.cards}}},{key:"grade",value:function(e){var t=this.getCurrentCard();this.indexesToReview.shift();var a=ee(e,t.lastSchedule,t.factor),n=a.isRepeatAgain,r=a.factor,o=a.schedule;this.cards=this.cards.map(function(a){return a.id===t.id?Object(j.a)({},a,{repetitions:[].concat(Object(i.a)(a.repetitions),[{quality:e,date:new Date}]),factor:r,lastSchedule:a.isRepeatAgain?a.lastSchedule:o,isRepeatAgain:n,nextRepeat:a.isRepeatAgain?a.nextRepeat:te(a.nextRepeat||new Date).add(o,"days").toDate()}):a}),this.saveDB(),n&&this.indexesToReview.push(this.currentIndex)}},{key:"learn",value:function(){this.indexesToReview.unshift(this.indexesToLearn.shift()),this.grade(4)}},{key:"getCurrentCard",value:function(){return null!==this.currentIndex?this.cards[this.currentIndex]:null}},{key:"cardsToReview",value:function(){return ae(this.cards,this.indexesToReview)}},{key:"cardsToLearn",value:function(){return ae(this.cards,this.indexesToLearn)}},{key:"hasCardsToReview",value:function(){return this.indexesToReview.length>0}},{key:"hasCardsToLearn",value:function(){return this.indexesToLearn.length>0}},{key:"nextCardToReview",value:function(){return this.currentIndex=this.hasCardsToReview()?this.indexesToReview[0]:null,Object(j.a)({},this.getCurrentCard(),{isNew:!1})}},{key:"nextCardToLearn",value:function(){return this.currentIndex=this.hasCardsToLearn()?this.indexesToLearn[0]:null,Object(j.a)({},this.getCurrentCard(),{isNew:!0})}},{key:"addCard",value:function(){var e={id:this.cards.length,repetitions:[],lastSchedule:1,nextRepeat:null,factor:2.5,isRepeatAgain:!1};return this.cards.push(e),this.indexesToLearn.push(this.cards.length-1),e}}]),e}(),re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.login=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://flipcards-server.herokuapp.com/login",{body:JSON.stringify({email:a.state.email,password:a.state.password}),headers:{"content-type":"application/json"},method:"POST"}).then(function(e){return e.text()});case 2:t=e.sent,a.props.setBearer(t);case 4:case"end":return e.stop()}},e)})),a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"loginForm"},"Login",r.a.createElement("input",{value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{onClick:this.login},"Log In"))}}]),t}(r.a.Component),oe=a(299),ce=a(276);function ie(e){var t=e.children;return Object(oe.a)("(max-width:866px)")?r.a.createElement(r.a.Fragment,null,t):""}function se(e){var t=e.children;return Object(oe.a)("(min-width:867px)")?r.a.createElement(r.a.Fragment,null,t):""}var le=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={decks:[],bearer:null,open:!1},a.setBearer=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r,o,c=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"/",a.setState({bearer:t,redirectTo:n}),localStorage.setItem("bearer",t),e.next=5,fetch("https://flipcards-server.herokuapp.com/user",{headers:{Authorization:"Bearer "+t}}).then(function(e){return e.json()});case 5:if(r=e.sent,o=r.decks){e.next=11;break}return e.next=10,fetch("https://flipcards-server.herokuapp.com/user",{body:JSON.stringify({decks:ce.decks}),headers:{"content-type":"application/json",Authorization:"Bearer "+t},method:"POST"});case 10:o=ce.decks;case 11:a.setState({decks:o.map(function(e){return new ne(e,a.updateDecks)})});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.logout=function(){localStorage.removeItem("bearer"),a.setState({bearer:null,redirectTo:"/login",decks:[]})},a.updateDecks=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fetch("https://flipcards-server.herokuapp.com/user",{body:JSON.stringify({decks:a.state.decks}),headers:{"content-type":"application/json",Authorization:"Bearer "+a.state.bearer},method:"POST"}),e&&a.forceUpdate()},a.createNewDeck=function(){var e=a.state.decks.length;a.setState(function(t){var n=t.decks;return{decks:[].concat(Object(i.a)(n),[new ne({id:e,name:"Unnamed deck",cards:[]},a.props.updateDecks)]),redirectTo:"/deck/"+e}},function(){return a.updateDecks(!1)})},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("bearer");e&&this.setBearer(e,window.location.pathname)}},{key:"render",value:function(){var e=this;if(this.state.redirectTo){var t=this.state.redirectTo;return this.setState({redirectTo:""}),r.a.createElement(m.a,null,r.a.createElement(G.a,{push:!0,to:t}))}var a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null,r.a.createElement(A,{decks:e.state.decks,updateDecks:e.updateDecks,logout:e.logout,createNewDeck:e.createNewDeck})),r.a.createElement(ie,null,r.a.createElement(Z,{logout:e.logout,openSidebar:function(){return e.setState({open:!0})}}),r.a.createElement(Y,{decks:e.state.decks,updateDecks:e.updateDecks,createNewDeck:e.createNewDeck,open:e.state.open,onClose:function(){return e.setState({open:!1})}})),r.a.createElement(H,{decks:e.state.decks,updateDecks:e.updateDecks,isMobile:!1}))};return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},!this.state.bearer&&r.a.createElement(G.a,{to:"/login"}),r.a.createElement(G.b,{path:"/",exact:!0,component:a}),r.a.createElement(G.b,{path:["/review","/learn","/settings","/deck"],component:a}),r.a.createElement(G.b,{path:"/login",component:function(){return r.a.createElement(re,{setBearer:e.setBearer})}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,1,2]]]);
//# sourceMappingURL=main.b1445759.chunk.js.map